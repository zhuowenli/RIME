# luna_pinyin.custom.yaml
# encoding: utf-8

patch:
  "switches/@0/reset": 1

  engine:                    # è¼¸å…¥å¼•æ“è¨­å®šï¼Œå³æ›æ¥çµ„ä»¶çš„ã€Œè™•æ–¹ã€
    processors:              # ä¸€ã€é€™æ‰¹çµ„ä»¶è™•ç†å„é¡æŒ‰éµæ¶ˆæ¯
      - ascii_composer       # â€» è™•ç†è¥¿æ–‡æ¨¡å¼åŠä¸­è¥¿æ–‡åˆ‡æ›
      - recognizer           # â€» èˆ‡ matcher æ­é…ï¼Œè™•ç†ç¬¦åˆç‰¹å®šè¦å‰‡çš„è¼¸å…¥ç¢¼ï¼Œå¦‚ç¶²å€ã€åæŸ¥ç­‰
      - key_binder           # â€» åœ¨ç‰¹å®šæ¢ä»¶ä¸‹å°‡æŒ‰éµç¶å®šåˆ°å…¶ä»–æŒ‰éµï¼Œå¦‚é‡å®šç¾©é€—è™Ÿã€å¥è™Ÿçˆ²å€™é¸ç¿»é éµ
      - speller              # â€» æ‹¼å¯«è™•ç†å™¨ï¼Œæ¥å—å­—ç¬¦æŒ‰éµï¼Œç·¨è¼¯è¼¸å…¥ç¢¼
      - punctuator           # â€» å¥è®€è™•ç†å™¨ï¼Œå°‡å–®å€‹å­—ç¬¦æŒ‰éµç›´æ¥æ˜ å°„çˆ²æ–‡å­—ç¬¦è™Ÿ
      - selector             # â€» é¸å­—è™•ç†å™¨ï¼Œè™•ç†æ•¸å­—é¸å­—éµã€ä¸Šã€ä¸‹å€™é¸å®šä½ã€æ›é éµ
      - navigator            # â€» è™•ç†è¼¸å…¥æ¬„å…§çš„å…‰æ¨™ç§»å‹•éµ
      - express_editor       # â€» ç·¨è¼¯å™¨ï¼Œè™•ç†ç©ºæ ¼ã€å›è»Šä¸Šå±ã€å›é€€éµç­‰
    segmentors:              # äºŒã€é€™æ‰¹çµ„ä»¶è­˜åˆ¥ä¸åŒå…§å®¹é¡å‹ï¼Œå°‡è¼¸å…¥ç¢¼åˆ†æ®µ
      - ascii_segmentor      # â€» æ¨™è­˜è¥¿æ–‡æ®µè½
      - matcher              # â€» æ¨™è­˜ç¬¦åˆç‰¹å®šè¦å‰‡çš„æ®µè½ï¼Œå¦‚ç¶²å€ã€åæŸ¥ç­‰
      - abc_segmentor        # â€» æ¨™è­˜å¸¸è¦çš„æ–‡å­—æ®µè½
      - punct_segmentor      # â€» æ¨™è­˜å¥è®€æ®µè½
      - fallback_segmentor   # â€» æ¨™è­˜å…¶ä»–æœªæ¨™è­˜æ®µè½
    translators:             # ä¸‰ã€é€™æ‰¹çµ„ä»¶ç¿»è­¯ç‰¹å®šé¡å‹çš„ç·¨ç¢¼æ®µçˆ²ä¸€çµ„å€™é¸æ–‡å­—
      - echo_translator      # â€» æ²’æœ‰å…¶ä»–å€™é¸å­—æ™‚ï¼Œå›é¡¯è¼¸å…¥ç¢¼
      - punct_translator     # â€» è½‰æ›æ¨™é»ç¬¦è™Ÿ
      - script_translator    # â€» è…³æœ¬ç¿»è­¯å™¨ï¼Œç”¨æ–¼æ‹¼éŸ³ç­‰åŸºæ–¼éŸ³ç¯€è¡¨çš„è¼¸å…¥æ–¹æ¡ˆ
      - reverse_lookup_translator  # â€» åæŸ¥ç¿»è­¯å™¨ï¼Œç”¨å¦ä¸€ç¨®ç·¨ç¢¼æ–¹æ¡ˆæŸ¥ç¢¼
    filters:                 # å››ã€é€™æ‰¹çµ„ä»¶éæ¿¾ç¿»è­¯çš„çµæœ
      - simplifier           # â€» ç¹ç°¡è½‰æ›
      - uniquifier           # â€» éæ¿¾é‡è¤‡çš„å€™é¸å­—ï¼Œæœ‰å¯èƒ½ä¾†è‡ªç¹ç°¡è½‰æ›

  "speller/algebra":  # æ‹¼å¯«é‹ç®—è¦å‰‡ï¼Œé€™å€‹çº”æ˜¯å¯¦ç¾é›™æ‹¼æ–¹æ¡ˆçš„é‡é»ã€‚å¯«æ³•æœ‰å¾ˆå¤šç¨®ï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥æŠŠå››ç™¾å¤šå€‹éŸ³ç¯€ç¢¼ä¸€æ¢ä¸€æ¢åœ°åˆ—èˆ‰
    - erase/^xx$/             # ç¢¼è¡¨ä¸­æœ‰å¹¾å€‹æ‹¼éŸ³ä¸æ˜çš„å­—ï¼Œç·¨ç¢¼æˆxxäº†ï¼Œæ¶ˆæ»…ä»–
    # éŸ»æ¯éƒ¨ä»½
    - derive/([ei])n$/$1ng/            # en => eng, in => ing
    - derive/([ei])ng$/$1n/            # eng => en, ing => in
    # æ¨¡ç³ŠéŸ³å®šç¾©å…ˆæ–¼ç°¡æ‹¼å®šç¾©ï¼Œæ–¹å¯ä»¤ç°¡æ‹¼æ”¯æŒä»¥ä¸Šæ¨¡ç³ŠéŸ³
    - abbrev/^([a-z]).+$/$1/           # ç°¡æ‹¼ï¼ˆé¦–å­—æ¯ï¼‰
    - abbrev/^([zcs]h).+$/$1/          # ç°¡æ‹¼ï¼ˆzh, ch, shï¼‰
    # ä»¥ä¸‹æ˜¯ä¸€çµ„å®¹éŒ¯æ‹¼å¯«ï¼Œã€Šæ¼¢èªæ‹¼éŸ³ã€‹æ–¹æ¡ˆä»¥å‰è€…çˆ²æ­£
    - derive/^([nl])ve$/$1ue/          # nve = nue, lve = lue
    # è‡ªå‹•ç³¾æ­£ä¸€äº›å¸¸è¦‹çš„æŒ‰éµéŒ¯èª¤
    # - derive/([dtngkhrzcs])o(u|ng)$/$1o/  # zho => zhong|zhou
    # - derive/ong$/on/                  # zhonguo => zhong guo
  "speller/algebra/@before 0": xform/^([b-df-hj-np-tv-z])$/$1_/

  "translator/dictionary": luna_pinyin.extended
  "translator/enable_correction": true

  simplifier:
    option_name: zh_simp

  punctuator:
    import_preset: default
    symbols:
      "/fs": [Â½, â€°, Â¼, â…“, â…”, Â¾, â…’ ]
      "/bq": [ğŸ˜‚ï¸, ğŸ˜…ï¸, â˜ºï¸, ğŸ˜±ï¸, ğŸ˜­ï¸, ğŸ˜‡ï¸, ğŸ™ƒï¸, ğŸ¤”ï¸, ğŸ’Šï¸, ğŸ’¯ï¸, ğŸ‘ï¸, ğŸ™ˆï¸, ğŸ’©ï¸, ğŸ˜ˆï¸ ]
      "/xh": [ ï¼Š, Ã—, âœ±, â˜…, â˜†, âœ©, âœ§, â‹, âŠ, â‰, âˆ, â…, âœ¿, âœ²]
      "/xb": [ â™‚, â™€, âš¢, âš£, âš¤, âš¥, âš¦, âš§, âš¨, âš©, âšª, âš«, âš¬, âš­, âš®, âš¯ ]
    half_shape:
      "#": "#"
      "*": "*"
      "`": "`"
      "~": "~"
      "@": "@"
      "=": "="
      "/": "/"
      "[": "ã€"
      "]": "ã€‘"
      '{': [ ã€–, ï½› ]
      '}': [ ã€—, ï½ ]
      '\': "ã€"
      "_" : "â”€â”€"
      "'": {pair: ["ã€Œ", "ã€"]}
      "\"": {pair: ["ã€", "ã€"]}
      "$": ["Â¥", "$", "â‚¬", "Â£", "Â¢", "Â¤"]
      "<": ["ã€Š", "ã€ˆ", "Â«", "<"]
      ">": ["ã€‹", "ã€‰", "Â»", ">"]

  key_binder:
    import_preset: default
    bindings:
      - { when: always, accept: Control+Shift+4, toggle: zh_simp }
      - { when: always, accept: Control+Shift+dollar, toggle: zh_simp }

  recognizer:
    import_preset: default

  # å·¦å³ Shift ä¸Šå±è‹±æ–‡
  ascii_composer:
    switch_key:
      Shift_L: commit_code
      Shift_R: commit_code

custom_phrase:
  dictionary: luna_pinyin
  user_dict: custom_phrase
  db_class: stabledb
  enable_completion: false
  enable_sentence: false
  initial_quality: 1
