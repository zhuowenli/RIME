# luna_pinyin.custom.yaml
# encoding: utf-8

patch:

  engine:                    # è¼¸å…¥å¼•æ“è¨­å®šï¼Œå³æ›æ¥çµ„ä»¶çš„ã€Œè™•æ–¹ã€
    processors:              # ä¸€ã€é€™æ‰¹çµ„ä»¶è™•ç†å„é¡æŒ‰éµæ¶ˆæ¯
      - ascii_composer       # â€» è™•ç†è¥¿æ–‡æ¨¡å¼åŠä¸­è¥¿æ–‡åˆ‡æ›
      - recognizer           # â€» èˆ‡ matcher æ­é…ï¼Œè™•ç†ç¬¦åˆç‰¹å®šè¦å‰‡çš„è¼¸å…¥ç¢¼ï¼Œå¦‚ç¶²å€ã€åæŸ¥ç­‰
      - key_binder           # â€» åœ¨ç‰¹å®šæ¢ä»¶ä¸‹å°‡æŒ‰éµç¶å®šåˆ°å…¶ä»–æŒ‰éµï¼Œå¦‚é‡å®šç¾©é€—è™Ÿã€å¥è™Ÿçˆ²å€™é¸ç¿»é éµ
      - speller              # â€» æ‹¼å¯«è™•ç†å™¨ï¼Œæ¥å—å­—ç¬¦æŒ‰éµï¼Œç·¨è¼¯è¼¸å…¥ç¢¼
      - punctuator           # â€» å¥è®€è™•ç†å™¨ï¼Œå°‡å–®å€‹å­—ç¬¦æŒ‰éµç›´æ¥æ˜ å°„çˆ²æ–‡å­—ç¬¦è™Ÿ
      - selector             # â€» é¸å­—è™•ç†å™¨ï¼Œè™•ç†æ•¸å­—é¸å­—éµã€ä¸Šã€ä¸‹å€™é¸å®šä½ã€æ›é éµ
      - navigator            # â€» è™•ç†è¼¸å…¥æ¬„å…§çš„å…‰æ¨™ç§»å‹•éµ
      - express_editor       # â€» ç·¨è¼¯å™¨ï¼Œè™•ç†ç©ºæ ¼ã€å›è»Šä¸Šå±ã€å›é€€éµç­‰
    segmentors:              # äºŒã€é€™æ‰¹çµ„ä»¶è­˜åˆ¥ä¸åŒå…§å®¹é¡å‹ï¼Œå°‡è¼¸å…¥ç¢¼åˆ†æ®µ
      - ascii_segmentor      # â€» æ¨™è­˜è¥¿æ–‡æ®µè½
      - matcher              # â€» æ¨™è­˜ç¬¦åˆç‰¹å®šè¦å‰‡çš„æ®µè½ï¼Œå¦‚ç¶²å€ã€åæŸ¥ç­‰
      - abc_segmentor        # â€» æ¨™è­˜å¸¸è¦çš„æ–‡å­—æ®µè½
      - punct_segmentor      # â€» æ¨™è­˜å¥è®€æ®µè½
      - fallback_segmentor   # â€» æ¨™è­˜å…¶ä»–æœªæ¨™è­˜æ®µè½
    translators:             # ä¸‰ã€é€™æ‰¹çµ„ä»¶ç¿»è­¯ç‰¹å®šé¡å‹çš„ç·¨ç¢¼æ®µçˆ²ä¸€çµ„å€™é¸æ–‡å­—
      - echo_translator      # â€» æ²’æœ‰å…¶ä»–å€™é¸å­—æ™‚ï¼Œå›é¡¯è¼¸å…¥ç¢¼
      - punct_translator     # â€» è½‰æ›æ¨™é»ç¬¦è™Ÿ
      - script_translator    # â€» è…³æœ¬ç¿»è­¯å™¨ï¼Œç”¨æ–¼æ‹¼éŸ³ç­‰åŸºæ–¼éŸ³ç¯€è¡¨çš„è¼¸å…¥æ–¹æ¡ˆ
      - reverse_lookup_translator  # â€» åæŸ¥ç¿»è­¯å™¨ï¼Œç”¨å¦ä¸€ç¨®ç·¨ç¢¼æ–¹æ¡ˆæŸ¥ç¢¼
    filters:                 # å››ã€é€™æ‰¹çµ„ä»¶éæ¿¾ç¿»è­¯çš„çµæœ
      - simplifier           # â€» ç¹ç°¡è½‰æ›
      - uniquifier           # â€» éæ¿¾é‡è¤‡çš„å€™é¸å­—ï¼Œæœ‰å¯èƒ½ä¾†è‡ªç¹ç°¡è½‰æ›

  speller:
    alphabet: zyxwvutsrqponmlkjihgfedcba  # å‘ƒï¼Œå€’èƒŒå­—æ¯è¡¨å®Œå…¨æ˜¯å€‹äººå–œå¥½
    delimiter: " '"  # éš”éŸ³ç¬¦è™Ÿç”¨ã€Œ'ã€ï¼›ç¬¬ä¸€ä½çš„ç©ºç™½ç”¨ä¾†è‡ªå‹•æ’å…¥åˆ°éŸ³ç¯€é‚Šç•Œè™•
    algebra:  # æ‹¼å¯«é‹ç®—è¦å‰‡ï¼Œé€™å€‹çº”æ˜¯å¯¦ç¾é›™æ‹¼æ–¹æ¡ˆçš„é‡é»ã€‚å¯«æ³•æœ‰å¾ˆå¤šç¨®ï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥æŠŠå››ç™¾å¤šå€‹éŸ³ç¯€ç¢¼ä¸€æ¢ä¸€æ¢åœ°åˆ—èˆ‰
      - xform/^([b-df-hj-np-tv-z])$/$1_/ # æ”¹å¯«æ‹¼å¯«é‹ç®—ï¼Œä½¿å¾—å«è¥¿æ–‡çš„è©å½™ä¸å½±éŸ¿ç°¡æ‹¼åŠŸèƒ½
      - erase/^xx$/             # ç¢¼è¡¨ä¸­æœ‰å¹¾å€‹æ‹¼éŸ³ä¸æ˜çš„å­—ï¼Œç·¨ç¢¼æˆxxäº†ï¼Œæ¶ˆæ»…ä»–
      - derive/^([jqxy])u$/$1v/
      - xform/^zh/A/            # æ›¿æ›è²æ¯éµï¼Œç”¨å¤§å¯«ä»¥é˜²èˆ‡åŸæœ‰çš„å­—æ¯æ··æ·†
      - xform/^ch/E/
      - xform/^sh/V/
      - xform/^([aoe].*)$/O$1/  # æ·»ä¸Šå›ºå®šçš„é›¶è²æ¯oï¼Œå…ˆæ¨™è¨˜çˆ²å¤§å¯«O
      - xform/ei$/Q/            # æ›¿æ›éŸ»æ¯éµ
      - xform/ian$/W/           # â€»2
      - xform/er$|iu$/R/        # å°æ‡‰å…©ç¨®éŸ»æ¯çš„ï¼›éŸ³ç¯€erç¾åœ¨è®Šçˆ²ORäº†
      - xform/[iu]ang$/T/       # â€»1
      - xform/ing$/Y/
      - xform/uo$/O/
      - xform/uan$/P/           # â€»3
      - xform/i?ong$/S/
      - xform/[iu]a$/D/
      - xform/en$/F/
      - xform/eng$/G/
      - xform/ang$/H/           # æª¢æŸ¥ä¸€ä¸‹åœ¨æ­¤ä¹‹å‰æ˜¯å¦å·²è½‰æ›éäº†å¸¶ä»‹éŸ³çš„angï¼›å¥½ï¼Œâ€»1è™•æœ‰äº†
      - xform/an$/J/            # å¦‚æœâ€»2ã€â€»3é‚„ç„¡æœ‰å‡ºç¾åœ¨ä¸Šæ–‡ä¸­ï¼Œæ‡‰è©²æŠŠä»–å€‘æåˆ°æœ¬è¡Œä¹‹å‰
      - xform/iao$/Z/           # å°â€”â€”åƒé€™æ¨£è®“iaoæå‰å‡ºå ´
      - xform/ao$/K/
      - xform/in$|uai$/C/       # è®“uaiæå‰å‡ºå ´
      - xform/ai$/L/
      - xform/ie$/X/
      - xform/ou$/B/
      - xform/un$/N/
      - xform/[uv]e$|ui$/M/

  custom_phrase:
    dictionary: ""
    user_dict: custom_phrase
    db_class: stabledb
    enable_completion: false
    enable_sentence: false
    initial_quality: 1

  translator:
    dictionary: luna_pinyin.extended
    prism: luna_pinyin_simp
    preedit_format:
      - xform/([nl])v/$1Ã¼/
      - xform/([nl])ue/$1Ã¼e/
      - xform/([jqxy])v/$1u/

  simplifier:
    option_name: zh_simp

  punctuator:
    import_preset: default
    symbols:
      "/fs": [Â½, â€°, Â¼, â…“, â…”, Â¾, â…’ ]
      "/bq": [ğŸ˜‚ï¸, ğŸ˜…ï¸, â˜ºï¸, ğŸ˜±ï¸, ğŸ˜­ï¸, ğŸ˜‡ï¸, ğŸ™ƒï¸, ğŸ¤”ï¸, ğŸ’Šï¸, ğŸ’¯ï¸, ğŸ‘ï¸, ğŸ™ˆï¸, ğŸ’©ï¸, ğŸ˜ˆï¸ ]
      "/xh": [ ï¼Š, Ã—, âœ±, â˜…, â˜†, âœ©, âœ§, â‹, âŠ, â‰, âˆ, â…, âœ¿, âœ²]
      "/xb": [ â™‚, â™€, âš¢, âš£, âš¤, âš¥, âš¦, âš§, âš¨, âš©, âšª, âš«, âš¬, âš­, âš®, âš¯ ]
    half_shape:
      "#": "#"
      "*": "*"
      "`": "`"
      "~": "~"
      "@": "@"
      "=": "="
      "/": "/"
      "[": "ã€"
      "]": "ã€‘"
      '{': [ ã€–, ï½› ]
      '}': [ ã€—, ï½ ]
      '\': "ã€"
      "_" : "â”€â”€"
      "'": {pair: ["ã€Œ", "ã€"]}
      "\"": {pair: ["ã€", "ã€"]}
      "$": ["Â¥", "$", "â‚¬", "Â£", "Â¢", "Â¤"]
      "<": ["ã€Š", "ã€ˆ", "Â«", "<"]
      ">": ["ã€‹", "ã€‰", "Â»", ">"]

  key_binder:
    import_preset: default
    bindings:
      - { when: always, accept: Control+Shift+4, toggle: zh_simp }
      - { when: always, accept: Control+Shift+dollar, toggle: zh_simp }

  recognizer:
    import_preset: default

  # å·¦å³ Shift ä¸Šå±è‹±æ–‡
  ascii_composer:
    switch_key:
      Shift_L: commit_code
      Shift_R: commit_code
